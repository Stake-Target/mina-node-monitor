<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Mina Node Monitor v1.0.0</title>
    <link rel="stylesheet" href="vendor/metro4/css/metro-all.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body class="light-mode">
    <div class="container-fluid">
        <div class="row">
            <div class="cell-md-3">
                <div class="logo-container h-100 d-flex flex-align-center flex-justify-center flex-justify-start-md">
                    <div class="h5 text-light">
                        <img class="logo" src="images/logo.png"> <span class="fg-white">MINA</span><span class="fg-orange">MONITOR</span> <small>v1.0.2</small>
                    </div>
                </div>
            </div>
            <div class="cell-md-6">
                <div class="h-100 d-flex flex-align-center flex-justify-center flex-column">
                    <div class="text-small">Next block will be produce at</div>
                    <span id="next-block-time" class="h3 m-0 fg-white text-bold">Calculating...</span>
                    <div class="text-small"><span id="next-block-left" class="fg-yellow"></span></div>
                    <div class="text-small"><span id="epoch-duration" class="fg-orange">calculating...</span></div>
                </div>
            </div>
            <div class="cell-md-3">
                <div class="text-center text-right-md mt-2">
                    <div class="text-small">
                        <span id="os-distro"></span>
                        <span id="os-kernel"></span>
                    </div>
                    <div class="text-small">
                        Server time: <span id="server-time" class="fg-white"></span>
                    </div>
                    <div class="text-small">
                        Server uptime: <span id="server-uptime" class="fg-white"></span>
                    </div>
                    <div class="text-small no-wrap">
                        <span id="cpu-info"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="HOSTNAME">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="hostname" style="line-height: 1">UNKNOWN</div>
                        <div class="text-small ip-address fg-white">---.---.---.---</div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="STATUS" id="status-panel">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="node-status" class="text-center fg-stroke">UNKNOWN</div>
                        <div id="network-status" class="text-small fg-white">UNKNOWN</div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="BLOCK HEIGHT">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="block-height" class="text-center fg-stroke" style="line-height: 1">0</div>
                        <div class="text-small text-center fg-white">
                            max: <span id="max-block">0</span>
                            unv: <span id="max-unvalidated">0</span>
                            exp: <span id="explorer-height">0</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="UPTIME">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="node-uptime" class="text-center fg-stroke">0</div>
                        <div class="text-small text-center fg-white">
                            pos: <span id="sidecar-position">0</span>
                            score: <span id="sidecar-score">0</span>
                            rate: <span id="sidecar-uptime">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="BALANCE">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="balance-total" class="text-center h2 m-0 fg-cyan">0</div>
                        <div>
                            <span class="text-small text-muted">liquid: </span><span id="balance-liquid" class="text-small text-center text-bold">0</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="TOTAL SUPPLY">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="currency-total" class="text-center h3 m-0 fg-cyan">0</div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="EPOCH">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="epoch-number" class="text-center h2 m-0 fg-cyan">0</div>
                        <div class="text-small">time <span id="end-of-epoch" class="fg-orange">calculating...</span> left</div>
                        <div class="w-100 pl-10 pr-10 mt-1">
                            <div data-role="progress" id="epoch-progress" data-small="true" data-cls-back="progress-back" data-cls-bar="progress-bar"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="SLOT">
                    <div class="fg-stroke d-flex flex-justify-center flex-align-center flex-column">
                        <div id="slot-number" class="text-center h2 m-0 fg-cyan">0</div>
                        <div id="slot-since-genesis" class="text-small text-center">0</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="cell-md-6 cell-lg-5">
                <div data-role="panel" data-title-caption="RAM <span id='ram-total' class='enlarge-4 text-bold fg-cyan'>0</span> GiB">
                    <div class="row">
                        <div class="cell-lg-6">
                            <div id="memory-load"></div>
                        </div>
                        <div class="cell-lg-6">
                            <div id="memory-use"></div>
                            <div class="text-small text-center mt-10-minus">
                                <span class="fg-green">FREE:</span> <span id="free-ram" class="fg-white text-bold"></span> GiB
                                <span class="fg-cyan">USED:</span> <span id="used-ram" class="fg-white text-bold"></span> GiB
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cell-md-6 cell-lg-5">
                <div data-role="panel" data-title-caption="CPU USAGE">
                    <div class="row">
                        <div class="cell-lg-6">
                            <div id="cpu-load"></div>
                        </div>
                        <div class="cell-lg-6">
                            <div id="cpu-use"></div>
                            <div class="text-small text-center mt-10-minus">Load average: <span id="loadavg"></span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cell-md-12 cell-lg-2">
                <div data-role="panel" data-title-caption="CPU <span id='vcpu' class='enlarge-4 text-bold fg-cyan'>0</span> THs" data-cls-content="pl-0 pr-0">
                    <div class="h-100">
                        <div id="cpu-load-all">&nbsp;</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="NETWORK">
                    <div class="d-flex flex-column flex-align-center h-100">
                        <div id="net-load" class="w-100"></div>
                        <div class="mt-auto w-100 p-4 bg-system border bd-system">
                            <div class="text-center text-small text-muted">Network Traffic</div>
                            <div class="d-flex flex-row flex-nowrap flex-justify-center flex-align-end">
                                <span class="h2 m-0 text-center fg-cyan" id="all-traffic">0</span>
                                <small class="ml-1">MB/S</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="PEERS">
                    <div class="d-flex flex-column flex-align-center h-100">
                        <div id="peers-load" class="w-100"></div>
                        <div class="mt-auto w-100 p-4 bg-system border bd-system">
                            <div class="text-center text-small text-muted">Peers Connected</div>
                            <div class="h2 m-0 text-center fg-cyan" id="peers-count">0</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="Addresses and Ports" data-cls-content="flex-align-start">
                    <div class="d-flex flex-column flex-align-center h-100">
                        <table class="table text-small info-table">
                            <tr>
                                <td>IP address</td>
                                <td class="text-right"><span class="ip-address" id="ip-address">---.---.---.---</span></td>
                            </tr>
                            <tr>
                                <td>Bind IP</td>
                                <td class="text-right"><span id="bind-ip">---.---.---.---</span></td>
                            </tr>
                            <tr>
                                <td>P2P port</td>
                                <td class="text-right"><span id="p2p-port">0000</span></td>
                            </tr>
                            <tr>
                                <td>Client port</td>
                                <td class="text-right"><span id="client-port">0000</span></td>
                            </tr>
                        </table>

                        <div class="mt-auto w-100 p-4 bg-system border bd-system">
                            <div class="text-center text-small text-muted">Network Connections</div>
                            <div class="h2 m-0 text-center fg-cyan" id="network-connections">0</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cell-md-6 cell-lg-3">
                <div data-role="panel" data-title-caption="System Queries">
                    <div class="d-flex flex-column flex-align-center h-100">
                        <table class="table text-small info-table">
                            <tr>
                                <td>System info</td>
                                <td id="log-info" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>System time</td>
                                <td id="log-time" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>CPU info</td>
                                <td id="log-cpu" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>RAM info</td>
                                <td id="log-mem" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>NET info</td>
                                <td id="log-net" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>Mina GraphQL</td>
                                <td id="log-mina" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>Mina Explorer</td>
                                <td id="log-explorer" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                            <tr>
                                <td>Uptime</td>
                                <td id="log-uptime" class="text-right"><span class="mif-stop fg-red"></span></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="cell-lg-6">
                <div data-role="panel" data-title-caption="BLOCK PRODUCER">
                    <div id="block-producer" class="text-center d-none-md">No data</div>
                    <div id="block-producer-full" class="text-center d-none d-block-md">No data</div>
                </div>
            </div>
            <div class="cell-lg-6">
                <div data-role="panel" data-title-caption="SNARK WORKER <span id='snark-worker-fee' class='fg-white'>">
                    <div id="snark-worker" class="text-center d-none-md">No data</div>
                    <div id="snark-worker-full" class="text-center d-none d-block-md">No data</div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="cell-12">
                <div data-role="panel" data-title-caption="NODE VERSION">
                    <div id="node-version" class="text-center fg-orange">unknown</div>
                </div>
            </div>
        </div>
    </div>

    <script src="vendor/metro4/js/metro.js"></script>
    <script src="vendor/chart/chart.js"></script>
    <script src="js/app.js"></script>
</body>
</html>